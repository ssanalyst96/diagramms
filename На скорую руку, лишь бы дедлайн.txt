@startuml
title Процесс обработки файла и формирования отчета

|Пользователь|
start
:Загружает файл в систему;
|Система|
:Проверяет файл на валидность;

if (Файл валиден?) then (Да)
  :Формирует отчет;
  :Предоставляет выбор формата (PDF/Excel);
  |Пользователь|
  :Выбирает формат;
  |Система|
  :Генерирует отчет в выбранном формате;
fork 
  :Отправляет отчет менеджеру;
fork again 
  :Выгружает отчет в облако;
end fork
end

else (Нет)
  :Проверить тип ошибки;
if (Ошибка может быть автоматически исправлена) then (Да)
    :Автоматическое исправление файла; 
      :Генерирует отчет в выбранном формате;
fork 
  :Отправляет отчет менеджеру;
fork again 
  :Выгружает отчет в облако;
end fork
end

else (Нет)
    :Отправить пользователю сообщение об ошибке;
end


